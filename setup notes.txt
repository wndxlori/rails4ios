New notes sept 2012
===================

curl -L get.rvm.io | bash -s stable --ruby --rails

gives the following versions:

ruby-1.9.3-p194
rails-3.28


Lori's notes FieldTripServer
============================

rvm use 1.9.3

rails new FieldTripServer -d postgresql --skip-bundle

cd FieldTripServer

gem install pg -- --with-pg-config=/Applications/Postgres.app/Contents/MacOS/bin/pg_config

postgresapp.com download
xcode-select -switch /Applications/Xcode.app

google for rails postgres tutorial

bundle

psql
\q

edit database.yml
change username to your Mac account name

rake db:create

migration for school
rails generate scaffold school board:string subcategory:string school_type:string name:string address:string city:string province:string postal_code:string grades:string ecs:boolean

rake db:migrate

rails s

localhost:3000/schools

create a school (and delete)

seeds.db to load the data

git config --global core.excludesfile ~.gitignore_global

put .DS_Store in it

Install heroku tool belt

https://devcenter.heroku.com/articles/git

http://stackoverflow.com/questions/8786564/cannot-push-to-heroku-because-key-fingerprint

Keep rails app in separate project (from your iOS app) for heroku

Need to: 
heroku run rake db:migrate 
heroku run rake db:seed


Next step:  switch to less and twitter bootstrap,add to gemfile:gem 'less-rails'gem 'less-rails-bootstrap'gem 'therubyracer'instead of ‘sass-rails’
also comment out coffeerails

bundlein Stylesheetsrename schools.css.scss to schools.css.lessalso scaffold
delete schools.js.coffee

Add to application.css
 *= require twitter/bootstrap
then add “class=‘table’” to the scaffold table(see twitter.github.com/bootstrap/components.html)change scaffold index buttons to “btn btn-primary” , “btn btn-danger”, “btn btn-info”

rails generate scaffold FieldTrip name:string school:references


===========================================================


 * http://www.arailsdemo.com/posts/30 <-- grape api http basic auth
 * http://code.dblock.org/grape-trapping-all-exceptions-within-the-api <--- grape api error handling
